<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>OOOs è¨ºæ–­çµæœ</title>
  <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: 'M PLUS Rounded 1c', sans-serif; max-width: 600px; margin: auto; padding: 20px; background-color: #f9f9f9; text-align: center; }
    .card { background: white; padding: 30px; border-radius: 15px; shadow: 0 4px 10px rgba(0,0,0,0.1); }
    h1 { color: #26466d; }
    .rank-box { background: #fff8e1; border: 2px dashed #ffa000; padding: 15px; margin: 20px 0; font-weight: bold; }
    .chart-container { width: 100%; height: 300px; margin-top: 20px; }
  </style>
</head>
<body>
  <div class="card">
    <h1>è¨ºæ–­çµæœ</h1>
    <div class="rank-box">
      æ½œåœ¨ãƒ©ãƒ³ã‚¯åˆ¤å®šï¼š<br><span style="font-size: 1.5em; color: #e67e22;">ğŸ› ï¸ ã„ã¾æ§‹ç¯‰ä¸­</span>
    </div>
    <p>åˆè¨ˆç‚¹: <span id="total" style="font-size: 1.5em; font-weight: bold;">0</span> / 150</p>
    <div class="chart-container"><canvas id="radar"></canvas></div>
    <button onclick="location.href='index.html'" style="margin-top:20px; padding:10px 20px; background:#26466d; color:#fff; border:none; border-radius:4px; cursor:pointer;">ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹</button>
  </div>

<script>
  const res = JSON.parse(sessionStorage.getItem('ooo_result'));
  if(!res) { location.href='index.html'; }
  document.getElementById('total').innerText = res.total_score;

  // 100ç‚¹æ›ç®—ï¼ˆOCP/OFPã¯48ç‚¹ã€OBPã¯54ç‚¹ãŒæº€ç‚¹ï¼‰
  const data = [ (res.ocp_score/48)*100, (res.ofp_score/48)*100, (res.obp_score/54)*100 ];

  new Chart(document.getElementById('radar'), {
    type: 'radar',
    data: {
      labels: ['OCP (ä½œæ¥­ä¸­å¿ƒ)', 'OFP (ä½œæ¥­ç„¦ç‚¹)', 'OBP (ä½œæ¥­åŸºç›¤)'],
      datasets: [{ data: data, backgroundColor: 'rgba(38,70,109,0.2)', borderColor: '#26466d', borderWidth: 2 }]
    },
    options: { scales: { r: { suggestedMin: 0, suggestedMax: 100 } }, plugins: { legend: { display: false } } }
  });
</script>
</body>
</html>
