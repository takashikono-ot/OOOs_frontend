<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>OOOs 潜在ランクチェック</title>
  <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c&display=swap" rel="stylesheet">
  <style>
    /* 1. 文字サイズを全体的に大きく (18px) */
    body { 
      font-family: 'M PLUS Rounded 1c', sans-serif; 
      max-width: 800px; 
      margin: auto; 
      padding: 20px; 
      background-color: #f4f7f9; 
      font-size: 18px; /* ←ここを大きくしました */
      line-height: 1.6;
      color: #333;
    }

    h1 { text-align:center; color: #26466d; margin-bottom: 1em; }
    
    .step-section { display: none; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.05); }
    .step-section.active { display: block; }
    
    h2 { border-bottom: 2px solid #26466d; padding-bottom: 10px; margin-bottom: 20px; color: #26466d; font-size: 1.4em; }
    h3 { margin-top: 2.5em; padding: 0.8em; background-color: #26466d; color: #fff; border-radius: 8px; text-align: center; font-size: 1.2em; }
    
    .question { margin: 3em 0; padding-bottom: 2em; border-bottom: 1px dashed #ccc; }
    .q-label { font-weight: bold; display: block; margin-bottom: 1.2em; font-size: 1.1em; }
    
    /* 2. ラジオボタンを押しやすくカスタマイズ */
    .option-group { 
      display: flex; 
      justify-content: space-between; 
      gap: 5px; /* ボタン同士の間隔 */
    }
    .option-item { 
      flex: 1; 
      text-align: center; 
      position: relative;
    }
    
    /* ボタンの見た目を作る */
    .option-item label {
      display: block;
      padding: 15px 5px; /* タップ領域を広げる */
      background: #f8f9fa;
      border: 2px solid #e9ecef;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    /* マウスを乗せたとき */
    .option-item label:hover {
      background-color: #e2e6ea;
      border-color: #adb5bd;
    }
    
    /* 選択されたときの色変化（CSSマジック） */
    .option-item input[type="radio"]:checked + span {
      font-weight: bold;
      color: #fff;
    }
    .option-item input[type="radio"]:checked + span::before {
      /* 親labelのスタイル変更ハック的な処理はJSでクラス付与の方が確実ですが、今回は簡易的に背景色変更 */
    }
    /* inputそのものは隠さず、大きくする */
    .option-item input[type="radio"] {
      transform: scale(1.8); /* 丸ポチを巨大化 */
      margin-bottom: 8px;
      cursor: pointer;
    }
    
    /* 選択状態の親ラベルを目立たせる */
    .option-item:has(input:checked) label {
      background-color: #26466d;
      color: white;
      border-color: #26466d;
    }

    .controls { text-align: center; margin-top: 3em; }
    
    /* ボタンデザイン */
    button { 
      background-color: #26466d; 
      color: #fff; 
      border: none; 
      border-radius: 8px; 
      padding: 15px 40px; /* パディングを増やして大きく */
      cursor: pointer; 
      font-weight: bold; 
      font-size: 1.1em;
      transition: all 0.3s ease; 
      margin: 10px;
    }
    button:hover:not(:disabled) {
      background-color: #1e3755;
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
    }
    button:disabled { 
      background-color: #ccc; 
      cursor: not-allowed; 
    }
    button.back-btn { 
      background-color: #888; 
    }
    
    /* 入力フォームも大きく */
    input[type="number"], select { 
      padding: 12px; 
      border: 1px solid #ccc; 
      border-radius: 6px; 
      font-size: 1em; 
      min-width: 100px;
    }
    .error-msg { color: #d9534f; font-weight: bold; display: none; margin-bottom: 20px; padding: 10px; background: #fdf7f7; border-left: 5px solid #d9534f; }
    
    .consent-box { background-color: #f0f7ff; padding: 25px; border-radius: 8px; border-left: 6px solid #26466d; margin-bottom: 25px; }

    /* 3. 尺度の目安表（凡例） */
    .scale-legend {
      background: #fff;
      border: 2px solid #26466d;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 40px;
    }
    .scale-legend h4 {
      text-align: center;
      margin-top: 0;
      color: #26466d;
      border-bottom: 1px solid #eee;
      padding-bottom: 10px;
    }
    .scale-grid {
      display: grid;
      grid-template-columns: 1fr 1fr; /* 2列表示 */
      gap: 10px;
    }
    .scale-item {
      padding: 5px;
      font-size: 0.9em;
    }
    .scale-num {
      display: inline-block;
      width: 30px;
      height: 30px;
      line-height: 30px;
      text-align: center;
      background: #26466d;
      color: white;
      border-radius: 50%;
      margin-right: 8px;
      font-weight: bold;
    }
    
    /* スマホ対応 */
    @media (max-width: 600px) {
      .option-group { flex-wrap: wrap; }
      .option-item { flex: 1 0 30%; margin-bottom: 10px; } /* 3つ折り返し */
      .scale-grid { grid-template-columns: 1fr; } /* 1列表示 */
    }
  </style>
</head>
<body>
  <h1>OOOs 潜在ランクチェック</h1>
  
  <form id="ooo-form">
    
    <div id="step1" class="step-section active">
      <h2>研究利用の同意</h2>
      
      <div class="consent-box">
        <p>「OOOsをやってみる」ボタンを押していただきありがとうございます。<br>
        この画面では、研究利用に関するご確認をさせていただきます。</p>
        <p>もちろん、「データは使ってほしくないな」と思われた場合は「いいえ」を選んでいただいて大丈夫です。その場合、ご入力いただいたデータは使用せず、削除します。</p>
      </div>

      <p style="font-weight:bold; margin-bottom:20px;">
        回答データは、匿名性を保持した状態で統計的に処理され研究に利用される場合があります。<br>
        よろしいでしょうか？
      </p>

      <div style="margin: 30px 0;">
        <label style="display:block; margin-bottom:20px; cursor:pointer; padding:15px; background:#fff; border-radius:8px; border:1px solid #ddd;">
          <input type="radio" name="consent" value="yes" style="transform:scale(1.5); margin-right:10px;"> 
          <strong>はい</strong>（研究や精度向上にデータを使ってもよいです。）
        </label>
        <label style="display:block; cursor:pointer; padding:15px; background:#fff; border-radius:8px; border:1px solid #ddd;">
          <input type="radio" name="consent" value="no" style="transform:scale(1.5); margin-right:10px;"> 
          <strong>いいえ</strong>（データを使ってほしくないです）
        </label>
      </div>

      <p id="error1" class="error-msg">※「はい」または「いいえ」を選択してください</p>

      <div class="controls">
        <button type="button" id="btn-go-to-2">次へ</button>
      </div>
    </div>

    <div id="step2" class="step-section">
      <h2>プロフィール</h2>
      <p style="color:#666; margin-bottom:30px;">
        以下を入力して「質問回答へ」進んでください。
      </p>

      <div style="margin-bottom:20px;">性別：<br><select name="gender" id="inp-gender"><option value="">選択してください</option><option value="男性">男性</option><option value="女性">女性</option><option value="その他">その他</option></select></div>
      <div style="margin-bottom:20px;">年齢：<br><input type="number" name="age" id="inp-age" min="18" max="100" placeholder="例: 30"> 歳</div>
      <div style="margin-bottom:20px;">取得学位：<br><select name="degree" id="inp-degree">
        <option value="">選択してください</option><option value="短期大学士">短期大学士</option>
        <option value="専門士">専門士/高度専門士</option><option value="学士">学士</option>
        <option value="修士">修士</option><option value="博士">博士</option><option value="その他">その他</option>
      </select></div>
      <div style="margin-bottom:20px;">国家資格取得後の年数：<br><input type="number" name="yearsLicensed" id="inp-years" min="0" placeholder="例: 5"> 年目</div>
      <div style="margin-bottom:20px;">主な専門領域：<br><select name="specialty" id="inp-specialty">
        <option value="">選択してください</option><option value="身体障害">身体障害</option><option value="精神障害">精神障害</option>
        <option value="発達障害">発達障害</option><option value="老年期障害">老年期障害</option><option value="その他">その他</option>
      </select></div>
      
      <p id="error2" class="error-msg">※すべての項目を入力してください</p>
      
      <div class="controls">
        <button type="button" class="back-btn" id="btn-back-to-1">戻る</button>
        <button type="button" id="btn-go-to-3">質問回答へ</button>
      </div>
    </div>

    <div id="step3" class="step-section">
      <h2>質問回答</h2>
      
      <div class="scale-legend">
        <h4>回答の目安</h4>
        <div class="scale-grid">
          <div class="scale-item"><span class="scale-num">6</span> できる</div>
